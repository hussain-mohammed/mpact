<template>
  <div class="side-nav h-100">
    <div
      class="h3 title w-100 text-center bg-dark text-white px-3 m-0 d-flex align-items-center"
    >
      <span class="text-truncate">{{ userName }}</span>
    </div>
    <div class="chat-contacts">
      <div
        class="side-nav-row mt-2"
        v-for="(mainObj, index) in contactsList"
        :key="index"
      >
        <button
          type="button"
          class="btn border-0 w-100 bg-telegram-primary border-0 rounded-0 mb-1 text-white d-flex justify-content-between"
          data-toggle="collapse"
          :data-target="'#demo-' + index"
        >
          <span>{{ mainObj.chat.title }}</span
          ><i class="fa"></i>
        </button>
        <div class="collapse border-0 pl-5 pt-3 bg-white" :id="'demo-' + index">
          <div
            v-for="(subObj, index) in mainObj.bot.bot_individuals"
            :key="index"
            class="text-telegram-primary"
          >
            {{ subObj.individual.first_name }}
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  name: "side-nav",
  props: ["userName", "contactsList"],
  data() {
    return {
      data: {},
    };
  },
};
</script>

<style scoped>
.side-nav {
  background: var(--bg-light-gray);
  box-shadow: 1px 0px 8px black;
}
.title {
  height: 64px;
}

.chat-contacts {
  height: calc(100vh - 64px);
  overflow-y: auto;
}

.chat-contacts::-webkit-scrollbar {
  width: 12px;
}

.chat-contacts::-webkit-scrollbar-track {
  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
  border-radius: 10px;
}

.chat-contacts::-webkit-scrollbar-thumb {
  border-radius: 10px;
  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
}

[aria-expanded="false"] .fa:before,
.fa:before {
  content: "+";
}

[aria-expanded="true"] .fa:before {
  content: "-";
}
</style>